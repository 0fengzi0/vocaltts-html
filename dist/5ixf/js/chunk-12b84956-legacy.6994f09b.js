(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-12b84956"],{"32a3":function(t,a,s){"use strict";var e=s("fe7d");s.n(e).a},"647d":function(t,a,s){"use strict";s.r(a);var e=s("191c"),o=s("6872"),i={name:"PhoneSynth",components:{PhoneFooter:s("671e").a},data:function(){return{ttsData:{text:"",voice:0,pit:0,vel:0,vol:0},oldTTSData:{text:"!`100",voice:0,pit:0,vel:0,vol:0},vocalList:[{id:"1",code:"lty",name:"洛天依",version:"t2",headimg:"https://s2.ax1x.com/2019/11/16/M0mbDS.png",presentation:"该音源为T2音源",status:"true"}],audioStatus:1,wavePath:"",maxInput:100}},watch:{group:function(){this.drawer=!1}},mounted:function(){var t=this;t.getVocaList(),o.a.$on("returnToken",(function(a){t.doSynth(a)}))},methods:{getVocaList:function(){var t=this;e.a.doHttp("vocaltts/voca/getvocalist","post").then((function(a){200==a.code&&(t.vocalList=a.data,t.chooseCanUseVoice())}))},chickVoice:function(t){this.ttsData.voice=t},chooseCanUseVoice:function(){for(var t=0;t<this.vocalList.length;t++)if("true"==this.vocalList[t].status){this.chickVoice(t);break}},playTts:function(){""!==this.ttsData.text&&this.ttsData.text.length<=this.maxInput?1===this.audioStatus?JSON.stringify(this.oldTTSData)!==JSON.stringify(this.ttsData)?o.a.$emit("doVaptcha",{}):this.startWave():2===this.audioStatus&&this.PauseWave():o.a.$emit("showSnackBar",{msg:"合成内容长度错误",color:"warning"})},doSynth:function(t){var a=this;a.onWait(),e.a.doHttp("vocaltts/synth/dosynth","post",{version:a.vocalList[a.ttsData.voice].version,voice:a.vocalList[a.ttsData.voice].code,text:a.ttsData.text,vel:a.ttsData.vel,vol:a.ttsData.vol,pit:a.ttsData.pit,token:t}).then((function(t){200===t.code?(a.wavePath=e.a.serviceApi+"vocaltts/synth/getwave/wave/"+t.fileName,Object.assign(a.oldTTSData,a.ttsData),a.startWave()):a.onPause()})).catch((function(t){a.onPause()}))},downLoadTTSFile:function(){window.open(this.wavePath)},ResetTTSDate:function(){this.onPause(),this.ttsData={text:"",voice:0,pit:0,vel:0,vol:0}},startWave:function(){this.$refs.audio.src=this.wavePath,this.$refs.audio.play()},onWait:function(){this.audioStatus=0},onPause:function(){this.audioStatus=1},onPlay:function(){this.audioStatus=2}}},n=(s("7533"),s("2877")),c=Object(n.a)(i,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"d-flex flex-column",attrs:{id:"PhoneSynth"}},[s("v-card",{staticClass:"mt-3 mb-1 ml-auto mr-auto",attrs:{color:"rgba(255,255,255,0.8)",width:"94vw"}},[s("v-card-text",[s("v-textarea",{attrs:{counter:t.maxInput,clearable:"","no-resize":"",placeholder:"你好，语音时代"},model:{value:t.ttsData.text,callback:function(a){t.$set(t.ttsData,"text",a)},expression:"ttsData.text"}})],1)],1),s("v-card",{staticClass:"mt-2 mb-2 ml-auto mr-auto",attrs:{color:"rgba(255,255,255,0.8)",width:"94vw"}},[s("v-card-text",{staticClass:"pl-1 pr-1 pt-0 pb-0"},[s("div",{staticClass:"vocal-list pb-2 pt-2"},t._l(t.vocalList,(function(a,e){return s("v-card",{directives:[{name:"show",rawName:"v-show",value:"true"===a.status,expression:"item.status==='true'"}],key:e,staticClass:"vocal ma-1 pa-1",class:t.ttsData.voice===e?"chickBGC":"",attrs:{link:""},on:{click:function(a){return t.chickVoice(e)}}},[s("v-card-text",{staticClass:"vocal-info-card pa-0 pr-1"},[s("div",{staticClass:"vocal-img"},[s("img",{attrs:{src:a.headimg}})]),s("div",{staticClass:"vocal-msg"},[s("div",{staticClass:"vocal-name"},[t._v(t._s(a.name))]),s("div",{staticClass:"vocal-text"},[t._v(t._s(a.presentation))])])])],1)})),1)])],1),s("v-card",{staticClass:"mt-2 mb-2 ml-auto mr-auto",attrs:{color:"rgba(255,255,255,0.8)",width:"94vw"}},[s("v-card-text",[s("v-slider",{attrs:{"thumb-size":24,dense:"",disabled:"",label:"音高",max:"100",min:"-100","thumb-label":"always"},model:{value:t.ttsData.pit,callback:function(a){t.$set(t.ttsData,"pit",a)},expression:"ttsData.pit"}}),s("v-slider",{attrs:{"thumb-size":24,dense:"",label:"语速",max:"100",min:"-100","thumb-label":"always"},model:{value:t.ttsData.vel,callback:function(a){t.$set(t.ttsData,"vel",a)},expression:"ttsData.vel"}}),s("v-slider",{attrs:{"thumb-size":24,dense:"",label:"音量",max:"100",min:"-100","thumb-label":"always"},model:{value:t.ttsData.vol,callback:function(a){t.$set(t.ttsData,"vol",a)},expression:"ttsData.vol"}})],1)],1),s("div",{staticClass:"button-list mt-2 mb-2 d-flex align-content-space-between"},[s("v-btn",{attrs:{color:"info"},on:{click:t.downLoadTTSFile}},[t._v("下载音频")]),s("v-btn",{staticClass:"ttsPlay",attrs:{color:"success"},on:{click:t.playTts}},[t._v(t._s(0==t.audioStatus?"合成中":1==t.audioStatus?"播放":"停止")+" ")]),s("v-btn",{attrs:{color:"error"},on:{click:t.ResetTTSDate}},[t._v("重置")])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"audio"},[s("audio",{ref:"audio",on:{pause:t.onPause,play:t.onPlay}},[s("source",{attrs:{controls:"",preload:"none",src:"#",type:"audio/wav"}}),t._v(" 您的浏览器不支持音频播放。 ")])]),s("PhoneFooter")],1)}),[],!1,null,"866de884",null);a.default=c.exports},"671e":function(t,a,s){"use strict";var e={name:"PhoneFooter",components:{},data:function(){return{record:"<a style='text-decoration: none;color: black !important;' href='http://www.beian.miit.gov.cn/'>豫ICP备20000407号-1</a>"}},mounted:function(){},methods:{}},o=(s("32a3"),s("2877")),i=Object(o.a)(e,(function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"text-center",attrs:{id:"PhoneFooter"}},[a("div",[this._v("本站仅提供语音合成二创和试听")]),a("div",[this._v("严禁任何商业用途！")]),a("div",[this._v("洛天依版权归上海禾念信息科技有限公司所有")]),a("div",{domProps:{innerHTML:this._s(this.record)}})])}),[],!1,null,"e66380de",null);a.a=i.exports},7533:function(t,a,s){"use strict";var e=s("d50b");s.n(e).a},d50b:function(t,a,s){},fe7d:function(t,a,s){}}]);