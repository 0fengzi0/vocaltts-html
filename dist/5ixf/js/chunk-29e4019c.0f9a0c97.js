(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-29e4019c"],{"32a3":function(t,a,e){"use strict";var s=e("fe7d");e.n(s).a},"60da":function(t,a,e){"use strict";var s=e("83ab"),o=e("d039"),i=e("df75"),n=e("7418"),c=e("d1e7"),l=e("7b0b"),r=e("44ad"),v=Object.assign,u=Object.defineProperty;t.exports=!v||o((function(){if(s&&1!==v({b:1},v(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},a={},e=Symbol();return t[e]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){a[t]=t})),7!=v({},t)[e]||"abcdefghijklmnopqrst"!=i(v({},a)).join("")}))?function(t,a){for(var e=l(t),o=arguments.length,v=1,u=n.f,d=c.f;o>v;)for(var h,m=r(arguments[v++]),p=u?i(m).concat(u(m)):i(m),b=p.length,f=0;b>f;)h=p[f++],s&&!d.call(m,h)||(e[h]=m[h]);return e}:v},"647d":function(t,a,e){"use strict";e.r(a),e("cca6");var s=e("191c"),o=e("6872"),i={name:"PhoneSynth",components:{PhoneFooter:e("671e").a},data:()=>({ttsData:{text:"",voice:0,pit:0,vel:0,vol:0},oldTTSData:{text:"!`100",voice:0,pit:0,vel:0,vol:0},vocalList:[{id:"1",code:"lty",name:"洛天依",version:"t2",headimg:"https://s2.ax1x.com/2019/11/16/M0mbDS.png",presentation:"该音源为T2音源",status:"true"}],audioStatus:1,wavePath:"",maxInput:100}),watch:{group(){this.drawer=!1}},mounted(){let t=this;t.getVocaList(),o.a.$on("returnToken",a=>{t.doSynth(a)})},methods:{getVocaList(){let t=this;s.a.doHttp("vocaltts/voca/getvocalist","post").then(a=>{200==a.code&&(t.vocalList=a.data,t.chooseCanUseVoice())})},chickVoice(t){this.ttsData.voice=t},chooseCanUseVoice(){let t=this;for(let a=0;a<t.vocalList.length;a++)if("true"==t.vocalList[a].status){t.chickVoice(a);break}},playTts(){let t=this;""!==t.ttsData.text&&t.ttsData.text.length<=t.maxInput?1===t.audioStatus?JSON.stringify(t.oldTTSData)!==JSON.stringify(t.ttsData)?o.a.$emit("doVaptcha",{}):t.startWave():2===this.audioStatus&&t.PauseWave():o.a.$emit("showSnackBar",{msg:"合成内容长度错误",color:"warning"})},doSynth(t){let a=this;a.onWait(),s.a.doHttp("vocaltts/synth/dosynth","post",{version:a.vocalList[a.ttsData.voice].version,voice:a.vocalList[a.ttsData.voice].code,text:a.ttsData.text,vel:a.ttsData.vel,vol:a.ttsData.vol,pit:a.ttsData.pit,token:t}).then((function(t){200===t.code?(a.wavePath=s.a.serviceApi+"vocaltts/synth/getwave/wave/"+t.fileName,Object.assign(a.oldTTSData,a.ttsData),a.startWave()):a.onPause()})).catch(t=>{a.onPause()})},downLoadTTSFile(){window.open(this.wavePath)},ResetTTSDate(){this.onPause(),this.ttsData={text:"",voice:0,pit:0,vel:0,vol:0}},startWave(){this.$refs.audio.src=this.wavePath,this.$refs.audio.play()},onWait(){this.audioStatus=0},onPause(){this.audioStatus=1},onPlay(){this.audioStatus=2}}},n=(e("7533"),e("2877")),c=Object(n.a)(i,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"d-flex flex-column",attrs:{id:"PhoneSynth"}},[e("v-card",{staticClass:"mt-3 mb-1 ml-auto mr-auto",attrs:{color:"rgba(255,255,255,0.8)",width:"94vw"}},[e("v-card-text",[e("v-textarea",{attrs:{counter:t.maxInput,clearable:"","no-resize":"",placeholder:"你好，语音时代"},model:{value:t.ttsData.text,callback:function(a){t.$set(t.ttsData,"text",a)},expression:"ttsData.text"}})],1)],1),e("v-card",{staticClass:"mt-2 mb-2 ml-auto mr-auto",attrs:{color:"rgba(255,255,255,0.8)",width:"94vw"}},[e("v-card-text",{staticClass:"pl-1 pr-1 pt-0 pb-0"},[e("div",{staticClass:"vocal-list pb-2 pt-2"},t._l(t.vocalList,(function(a,s){return e("v-card",{directives:[{name:"show",rawName:"v-show",value:"true"===a.status,expression:"item.status==='true'"}],key:s,staticClass:"vocal ma-1 pa-1",class:t.ttsData.voice===s?"chickBGC":"",attrs:{link:""},on:{click:function(a){return t.chickVoice(s)}}},[e("v-card-text",{staticClass:"vocal-info-card pa-0 pr-1"},[e("div",{staticClass:"vocal-img"},[e("img",{attrs:{src:a.headimg}})]),e("div",{staticClass:"vocal-msg"},[e("div",{staticClass:"vocal-name"},[t._v(t._s(a.name))]),e("div",{staticClass:"vocal-text"},[t._v(t._s(a.presentation))])])])],1)})),1)])],1),e("v-card",{staticClass:"mt-2 mb-2 ml-auto mr-auto",attrs:{color:"rgba(255,255,255,0.8)",width:"94vw"}},[e("v-card-text",[e("v-slider",{attrs:{"thumb-size":24,dense:"",disabled:"",label:"音高",max:"100",min:"-100","thumb-label":"always"},model:{value:t.ttsData.pit,callback:function(a){t.$set(t.ttsData,"pit",a)},expression:"ttsData.pit"}}),e("v-slider",{attrs:{"thumb-size":24,dense:"",label:"语速",max:"100",min:"-100","thumb-label":"always"},model:{value:t.ttsData.vel,callback:function(a){t.$set(t.ttsData,"vel",a)},expression:"ttsData.vel"}}),e("v-slider",{attrs:{"thumb-size":24,dense:"",label:"音量",max:"100",min:"-100","thumb-label":"always"},model:{value:t.ttsData.vol,callback:function(a){t.$set(t.ttsData,"vol",a)},expression:"ttsData.vol"}})],1)],1),e("div",{staticClass:"button-list mt-2 mb-2 d-flex align-content-space-between"},[e("v-btn",{attrs:{color:"info"},on:{click:t.downLoadTTSFile}},[t._v("下载音频")]),e("v-btn",{staticClass:"ttsPlay",attrs:{color:"success"},on:{click:t.playTts}},[t._v(t._s(0==t.audioStatus?"合成中":1==t.audioStatus?"播放":"停止")+" ")]),e("v-btn",{attrs:{color:"error"},on:{click:t.ResetTTSDate}},[t._v("重置")])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"audio"},[e("audio",{ref:"audio",on:{pause:t.onPause,play:t.onPlay}},[e("source",{attrs:{controls:"",preload:"none",src:"#",type:"audio/wav"}}),t._v(" 您的浏览器不支持音频播放。 ")])]),e("PhoneFooter")],1)}),[],!1,null,"866de884",null);a.default=c.exports},"671e":function(t,a,e){"use strict";var s={name:"PhoneFooter",components:{},data:()=>({record:"<a style='text-decoration: none;color: black !important;' href='http://www.beian.miit.gov.cn/'>豫ICP备20000407号-1</a>"}),mounted(){},methods:{}},o=(e("32a3"),e("2877")),i=Object(o.a)(s,(function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"text-center",attrs:{id:"PhoneFooter"}},[a("div",[this._v("本站仅提供语音合成二创和试听")]),a("div",[this._v("严禁任何商业用途！")]),a("div",[this._v("洛天依版权归上海禾念信息科技有限公司所有")]),a("div",{domProps:{innerHTML:this._s(this.record)}})])}),[],!1,null,"e66380de",null);a.a=i.exports},7533:function(t,a,e){"use strict";var s=e("d50b");e.n(s).a},"7b0b":function(t,a,e){var s=e("1d80");t.exports=function(t){return Object(s(t))}},cca6:function(t,a,e){var s=e("23e7"),o=e("60da");s({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},d50b:function(t,a,e){},df75:function(t,a,e){var s=e("ca84"),o=e("7839");t.exports=Object.keys||function(t){return s(t,o)}},fe7d:function(t,a,e){}}]);